{
  "id": "VERSION",
  "title": "Strategy Version History + AI Revert",
  "priority": "Should Have",
  "effort": "M",
  "status": "Idea",
  "sprint": "Backlog",
  "depends_on": [
    "PB-035"
  ],
  "spec": "## Strategy Version History + AI Revert\n\n### Goal\nTrack every change to a strategy document with full version history, and allow AI-assisted revert to any previous version.\n\n### Behavior\n- **Auto-versioning**: Every save creates a version snapshot (debounced, max 1 per minute)\n- **Version timeline**: Side panel showing version list with timestamps, authors, and change summaries\n- **Diff view**: Compare any two versions with inline diff highlighting\n- **AI revert**: Tell the AI \"go back to the version from Tuesday\" and it finds and restores it\n- **Named versions**: Users can name important versions (\"v1 - Board Presentation\")\n\n### Technical Approach\n- `strategy_versions` table: `id`, `strategy_id`, `version_number`, `snapshot` (JSONB), `summary`, `created_by`, `created_at`\n- Auto-summary: AI generates one-line change description per version\n- Diff: JSON deep-diff on snapshot objects, rendered as field-level changes\n- Revert tool: `revert_to_version(version_id)` for AI tool use\n\n### Acceptance Criteria\n- Given 10 saves over an hour, the version timeline shows 10 entries with summaries\n- Given user asks AI \"revert to last Tuesday\", the correct version is identified and restored\n- Given two versions are selected, a clear diff shows what changed",
  "created": "2026-02-23",
  "updated": "2026-02-23"
}