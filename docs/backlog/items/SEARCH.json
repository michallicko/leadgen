{
  "id": "SEARCH",
  "title": "Chat Internet Access (Perplexity Research)",
  "priority": "Should Have",
  "effort": "S",
  "status": "Idea",
  "sprint": "Sprint 3",
  "depends_on": [
    "AGENT"
  ],
  "spec": "## Chat Internet Access (Perplexity Research)\n\n### Goal\nGive the AI the ability to search the internet in real-time during chat, using Perplexity API for up-to-date market research.\n\n### Behavior\n- **Research tool**: AI calls `search_web(query)` when it needs current information\n- **Source attribution**: Results include source URLs and snippets\n- **Use cases**: Competitor research, industry trends, company news, technology comparisons\n- **Rate limiting**: Max 3 web searches per conversation turn\n\n### Technical Approach\n- Perplexity API: `sonar` model for search-augmented generation\n- Tool: `search_web(query, num_results=5)` returns summarized results with citations\n- Backend handler: `POST /api/tools/search` proxies to Perplexity\n- Citation rendering: Footnote-style links in chat responses\n- Depends on AGENT (tool use architecture) for the tool framework\n\n### Acceptance Criteria\n- Given user asks \"what are the latest trends in B2B SaaS marketing?\", the AI searches and provides current data with sources\n- Given search results, citations are rendered as clickable footnotes\n- Given 3 searches already done this turn, the AI uses existing context instead of searching again",
  "created": "2026-02-23",
  "updated": "2026-02-23"
}