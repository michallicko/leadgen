<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Playbook Backlog â€” VisionVolve</title>
<link href="https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@400;500;600;700;800&family=Work+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --purple: #6E2C8B;
  --purple-dark: #4A1D5E;
  --purple-light: #9B59B6;
  --cyan: #00B8CF;
  --cyan-dark: #008B9A;
  --cyan-light: #67E8F9;
  --text: #404B5C;
  --text-secondary: #6B7280;
  --bg: #F8F9FC;
  --border: #E5E7EB;
  --white: #FFFFFF;
  --success: #059669;
  --success-light: #D1FAE5;
  --warning: #D97706;
  --warning-light: #FEF3C7;
  --danger: #DC2626;
  --danger-light: #FEE2E2;
  --font-title: 'Lexend Deca', -apple-system, sans-serif;
  --font-body: 'Work Sans', -apple-system, sans-serif;
  --radius: 6px;
  --radius-lg: 8px;
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.06);
  --shadow: 0 2px 8px rgba(0,0,0,0.08);
  --shadow-lg: 0 4px 16px rgba(0,0,0,0.12);
  --transition: 0.2s ease;
}

body { font-family: var(--font-body); background: var(--bg); color: var(--text); line-height: 1.5; min-height: 100vh; }

.header { background: linear-gradient(90deg, #6E2C8B 0%, #00B8CF 100%); padding: 20px 32px; display: flex; align-items: center; justify-content: space-between; color: var(--white); position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 12px rgba(110, 44, 139, 0.3); }
.header-left { display: flex; align-items: center; gap: 16px; }
.header-logo { height: 28px; opacity: 0.95; }
.header h1 { font-family: var(--font-title); font-size: 20px; font-weight: 700; letter-spacing: -0.02em; }
.header-right { display: flex; align-items: center; gap: 16px; font-size: 13px; }
.last-updated { opacity: 0.8; font-size: 12px; }
.refresh-dot { width: 8px; height: 8px; border-radius: 50%; background: #4ade80; display: inline-block; animation: pulse-dot 2s ease infinite; }
@keyframes pulse-dot { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }

.stats-bar { display: flex; gap: 12px; padding: 16px 32px; background: var(--white); border-bottom: 1px solid var(--border); flex-wrap: wrap; }
.stat-card { display: flex; align-items: center; gap: 8px; padding: 8px 16px; border-radius: var(--radius); background: var(--bg); font-size: 13px; font-weight: 500; }
.stat-card .stat-number { font-family: var(--font-title); font-size: 20px; font-weight: 700; }
.stat-card.must .stat-number { color: var(--danger); }
.stat-card.should .stat-number { color: var(--warning); }
.stat-card.could .stat-number { color: #3B82F6; }
.stat-card.total .stat-number { color: var(--purple); }

.toolbar { padding: 12px 32px; display: flex; align-items: center; justify-content: space-between; gap: 12px; flex-wrap: wrap; background: var(--white); border-bottom: 1px solid var(--border); }
.filters { display: flex; gap: 8px; flex-wrap: wrap; align-items: center; }
.filter-group { display: flex; gap: 0; border-radius: var(--radius); overflow: hidden; border: 1px solid var(--border); }
.filter-btn { padding: 6px 12px; font-size: 12px; font-family: var(--font-body); font-weight: 500; background: var(--white); border: none; cursor: pointer; color: var(--text-secondary); transition: all var(--transition); border-right: 1px solid var(--border); }
.filter-btn:last-child { border-right: none; }
.filter-btn:hover { background: var(--bg); }
.filter-btn.active { background: var(--purple); color: var(--white); }
.filter-btn.active.priority-must { background: var(--danger); }
.filter-btn.active.priority-should { background: var(--warning); }
.filter-btn.active.priority-could { background: #3B82F6; }

.view-toggle { display: flex; gap: 0; border-radius: var(--radius); overflow: hidden; border: 1px solid var(--border); }
.view-btn { padding: 6px 14px; font-size: 12px; font-family: var(--font-body); font-weight: 500; background: var(--white); border: none; cursor: pointer; color: var(--text-secondary); transition: all var(--transition); display: flex; align-items: center; gap: 5px; border-right: 1px solid var(--border); }
.view-btn:last-child { border-right: none; }
.view-btn:hover { background: var(--bg); }
.view-btn.active { background: var(--purple); color: var(--white); }

.main { padding: 24px 32px; max-width: 1400px; margin: 0 auto; }

.table-container { background: var(--white); border-radius: var(--radius-lg); box-shadow: var(--shadow); border: 1px solid var(--border); }
.backlog-table { width: 100%; border-collapse: collapse; font-size: 13px; }
.backlog-table thead { background: var(--bg); position: sticky; top: 68px; z-index: 10; }
.backlog-table th { padding: 10px 14px; text-align: left; font-family: var(--font-title); font-weight: 600; font-size: 11px; text-transform: uppercase; letter-spacing: 0.05em; color: var(--text-secondary); border-bottom: 2px solid var(--border); white-space: nowrap; cursor: pointer; user-select: none; transition: color var(--transition); }
.backlog-table th:hover { color: var(--purple); }
.backlog-table th .sort-icon { display: inline-block; margin-left: 4px; font-size: 10px; opacity: 0.3; }
.backlog-table th.sorted .sort-icon { opacity: 1; color: var(--purple); }
.backlog-table td { padding: 10px 14px; border-bottom: 1px solid var(--border); vertical-align: middle; }
.backlog-table tbody tr { transition: background var(--transition); }
.backlog-table tbody tr:hover { background: #F3F0FF; }
.backlog-table tbody tr:last-child td { border-bottom: none; }

.feature-id { font-family: 'SF Mono', 'Fira Code', monospace; font-size: 11px; color: var(--text-secondary); background: var(--bg); padding: 2px 6px; border-radius: 3px; }
.feature-name { font-weight: 500; color: var(--text); }
.feature-name a { color: var(--purple); text-decoration: none; font-weight: 600; }
.feature-name a:hover { text-decoration: underline; }

.badge { display: inline-flex; align-items: center; padding: 3px 8px; border-radius: 10px; font-size: 11px; font-weight: 600; white-space: nowrap; }
.priority-must { background: var(--danger-light); color: var(--danger); }
.priority-should { background: var(--warning-light); color: var(--warning); }
.priority-could { background: #DBEAFE; color: #2563EB; }
.status-idea { background: #F3F4F6; color: #6B7280; }
.status-specd { background: #DBEAFE; color: #2563EB; }
.status-building { background: var(--warning-light); color: var(--warning); }
.status-pr-open { background: #FED7AA; color: #C2410C; }
.status-in-review { background: #EDE9FE; color: #7C3AED; }
.status-merged { background: #CFFAFE; color: var(--cyan-dark); }
.status-done { background: var(--success-light); color: var(--success); }

.effort { display: inline-flex; align-items: center; justify-content: center; width: 28px; height: 22px; border-radius: 4px; font-size: 10px; font-weight: 700; font-family: var(--font-title); }
.effort-s { background: var(--success-light); color: var(--success); }
.effort-m { background: #DBEAFE; color: #2563EB; }
.effort-l { background: var(--warning-light); color: var(--warning); }
.effort-xl { background: var(--danger-light); color: var(--danger); }

.sprint-badge { display: inline-flex; align-items: center; padding: 2px 8px; border-radius: 10px; font-size: 10px; font-weight: 600; font-family: var(--font-title); white-space: nowrap; }
.sprint-1 { background: #EDE9FE; color: #7C3AED; }
.sprint-2 { background: #CFFAFE; color: var(--cyan-dark); }
.sprint-3 { background: #FEF3C7; color: #92400E; }
.sprint-backlog { background: #F3F4F6; color: #6B7280; }

.sprint-summary { display: flex; gap: 12px; padding: 16px 32px; background: var(--white); border-bottom: 1px solid var(--border); overflow-x: auto; }
.sprint-card { flex: 1; min-width: 200px; padding: 14px 16px; border-radius: var(--radius-lg); border: 1px solid var(--border); background: var(--bg); cursor: pointer; transition: all var(--transition); }
.sprint-card:hover { border-color: var(--purple-light); box-shadow: var(--shadow-sm); }
.sprint-card.active { border-color: var(--purple); background: var(--white); box-shadow: var(--shadow); }
.sprint-card-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px; }
.sprint-card-name { font-family: var(--font-title); font-weight: 600; font-size: 13px; color: var(--text); }
.sprint-card-count { font-family: var(--font-title); font-weight: 700; font-size: 18px; color: var(--purple); }
.sprint-card-label { font-size: 10px; font-weight: 500; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.04em; margin-bottom: 2px; }
.sprint-progress { width: 100%; height: 6px; background: var(--border); border-radius: 3px; overflow: hidden; margin-top: 8px; }
.sprint-progress-fill { height: 100%; border-radius: 3px; transition: width 0.4s ease; }
.sprint-progress-fill.sprint-1-fill { background: #7C3AED; }
.sprint-progress-fill.sprint-2-fill { background: var(--cyan); }
.sprint-progress-fill.sprint-3-fill { background: var(--warning); }
.sprint-progress-fill.sprint-backlog-fill { background: #9CA3AF; }
.sprint-card-meta { display: flex; justify-content: space-between; align-items: center; margin-top: 6px; font-size: 11px; color: var(--text-secondary); }

.sprint-group-header td { padding: 8px 14px; background: var(--bg); font-family: var(--font-title); font-weight: 600; font-size: 12px; color: var(--purple-dark); border-bottom: 2px solid var(--border); letter-spacing: 0.02em; }
.sprint-group-header:hover { background: transparent !important; }

.docs-bar { padding: 10px 32px; background: var(--white); border-bottom: 1px solid var(--border); display: flex; align-items: center; gap: 6px; flex-wrap: wrap; }
.docs-bar-label { font-family: var(--font-title); font-size: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.06em; color: var(--text-secondary); margin-right: 4px; white-space: nowrap; }
.doc-link { display: inline-flex; align-items: center; gap: 5px; padding: 4px 10px; border-radius: var(--radius); font-size: 12px; font-weight: 500; text-decoration: none; background: var(--bg); border: 1px solid var(--border); color: var(--text); transition: all var(--transition); white-space: nowrap; }
.doc-link:hover { border-color: var(--purple-light); color: var(--purple); background: #F3F0FF; }
.doc-link .doc-icon { font-size: 13px; line-height: 1; }

.deps-list { display: flex; gap: 4px; flex-wrap: wrap; }
.dep-tag { font-family: 'SF Mono', 'Fira Code', monospace; font-size: 10px; color: var(--cyan-dark); background: #ECFEFF; padding: 1px 5px; border-radius: 3px; cursor: default; }
.dep-tag:hover { background: var(--cyan); color: var(--white); }
.no-deps { color: #D1D5DB; font-size: 11px; }
.pr-link { font-family: 'SF Mono', 'Fira Code', monospace; font-size: 11px; color: var(--purple); text-decoration: none; }
.pr-link:hover { text-decoration: underline; }

.kanban-container { display: none; gap: 12px; overflow-x: auto; padding-bottom: 16px; }
.kanban-container.active { display: flex; }
.kanban-column { min-width: 220px; max-width: 260px; flex: 1; background: var(--white); border-radius: var(--radius-lg); border: 1px solid var(--border); box-shadow: var(--shadow-sm); display: flex; flex-direction: column; }
.kanban-column-header { padding: 12px 14px; font-family: var(--font-title); font-weight: 600; font-size: 12px; text-transform: uppercase; letter-spacing: 0.04em; border-bottom: 2px solid var(--border); display: flex; align-items: center; justify-content: space-between; }
.kanban-column-header .count { font-family: var(--font-body); font-size: 11px; font-weight: 500; background: var(--bg); padding: 2px 7px; border-radius: 10px; color: var(--text-secondary); }
.kanban-cards { padding: 8px; display: flex; flex-direction: column; gap: 8px; flex: 1; min-height: 80px; }
.kanban-card { padding: 10px 12px; border-radius: var(--radius); border: 1px solid var(--border); background: var(--white); cursor: pointer; transition: all var(--transition); animation: card-in 0.3s ease both; }
.kanban-card:hover { box-shadow: var(--shadow); border-color: var(--purple-light); transform: translateY(-1px); }
@keyframes card-in { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
.kanban-card .card-id { font-family: 'SF Mono', 'Fira Code', monospace; font-size: 10px; color: var(--text-secondary); }
.kanban-card .card-name { font-size: 13px; font-weight: 500; margin: 4px 0 8px; line-height: 1.3; }
.kanban-card .card-meta { display: flex; gap: 6px; align-items: center; flex-wrap: wrap; }
.kanban-card .card-deps { margin-top: 6px; display: flex; gap: 3px; flex-wrap: wrap; }

.dep-graph-section { margin-top: 24px; }
.dep-graph-toggle { display: flex; align-items: center; gap: 8px; margin-bottom: 12px; cursor: pointer; font-family: var(--font-title); font-weight: 600; font-size: 14px; color: var(--text); user-select: none; }
.dep-graph-toggle .chevron { transition: transform var(--transition); font-size: 12px; }
.dep-graph-toggle.open .chevron { transform: rotate(90deg); }
.dep-graph-container { background: var(--white); border-radius: var(--radius-lg); border: 1px solid var(--border); box-shadow: var(--shadow-sm); overflow: hidden; max-height: 0; transition: max-height 0.4s ease; }
.dep-graph-container.open { max-height: 600px; }
.dep-graph-canvas { width: 100%; height: 400px; display: block; }

.empty-state { text-align: center; padding: 48px 24px; color: var(--text-secondary); }
.table-container tbody tr { animation: row-in 0.2s ease both; }
@keyframes row-in { from { opacity: 0; transform: translateX(-8px); } to { opacity: 1; transform: translateX(0); } }

@media (max-width: 768px) { .header { padding: 14px 16px; } .header h1 { font-size: 16px; } .stats-bar { padding: 12px 16px; } .toolbar { padding: 10px 16px; } .main { padding: 16px; } .backlog-table { font-size: 12px; } .backlog-table th, .backlog-table td { padding: 8px 8px; } .kanban-column { min-width: 200px; } .filters { gap: 6px; } .hide-mobile { display: none; } .sprint-summary { padding: 12px 16px; gap: 8px; } .sprint-card { min-width: 160px; padding: 10px 12px; } }
@media (max-width: 480px) { .header-right { display: none; } .stats-bar { gap: 8px; } .stat-card { padding: 6px 10px; font-size: 12px; } .stat-card .stat-number { font-size: 16px; } }

.spec-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.4); z-index: 200; opacity: 0; visibility: hidden; transition: opacity 0.25s ease, visibility 0.25s ease; }
.spec-overlay.open { opacity: 1; visibility: visible; }
.spec-panel { position: fixed; top: 0; right: 0; bottom: 0; width: 580px; max-width: 92vw; background: var(--white); z-index: 201; transform: translateX(100%); transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); display: flex; flex-direction: column; box-shadow: -4px 0 24px rgba(0, 0, 0, 0.15); }
.spec-overlay.open .spec-panel { transform: translateX(0); }
.spec-panel-header { padding: 20px 24px 16px; border-bottom: 1px solid var(--border); flex-shrink: 0; }
.spec-panel-header-top { display: flex; align-items: flex-start; justify-content: space-between; gap: 12px; margin-bottom: 12px; }
.spec-panel-title { font-family: var(--font-title); font-size: 18px; font-weight: 700; color: var(--text); line-height: 1.3; }
.spec-panel-id { font-family: 'SF Mono', 'Fira Code', monospace; font-size: 12px; color: var(--text-secondary); background: var(--bg); padding: 2px 8px; border-radius: 3px; margin-bottom: 6px; display: inline-block; }
.spec-panel-close { width: 32px; height: 32px; border-radius: var(--radius); border: 1px solid var(--border); background: var(--white); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 18px; color: var(--text-secondary); flex-shrink: 0; transition: all var(--transition); }
.spec-panel-close:hover { background: var(--bg); color: var(--text); border-color: var(--text-secondary); }
.spec-panel-badges { display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 8px; }
.spec-panel-deps { display: flex; align-items: center; gap: 6px; font-size: 12px; color: var(--text-secondary); }
.spec-panel-deps-label { font-weight: 600; font-size: 11px; text-transform: uppercase; letter-spacing: 0.04em; }
.spec-panel-body { flex: 1; overflow-y: auto; padding: 24px; }
.spec-panel-body .spec-content { font-family: var(--font-body); font-size: 14px; line-height: 1.7; color: var(--text); }
.spec-content h1 { font-family: var(--font-title); font-size: 18px; font-weight: 700; margin: 24px 0 8px; color: var(--text); }
.spec-content h2 { font-family: var(--font-title); font-size: 16px; font-weight: 600; margin: 20px 0 8px; color: var(--text); }
.spec-content h3 { font-family: var(--font-title); font-size: 14px; font-weight: 600; margin: 16px 0 6px; color: var(--text); }
.spec-content h1:first-child, .spec-content h2:first-child, .spec-content h3:first-child { margin-top: 0; }
.spec-content p { margin: 0 0 12px; }
.spec-content ul, .spec-content ol { margin: 0 0 12px; padding-left: 24px; }
.spec-content li { margin-bottom: 4px; }
.spec-content strong { font-weight: 600; color: var(--text); }
.spec-content code { font-family: 'SF Mono', 'Fira Code', monospace; font-size: 12px; background: var(--bg); padding: 2px 5px; border-radius: 3px; color: var(--purple-dark); }
.spec-content pre { background: #1E1E2E; color: #CDD6F4; padding: 14px 16px; border-radius: var(--radius); overflow-x: auto; margin: 0 0 12px; font-size: 12px; line-height: 1.5; }
.spec-content pre code { background: none; padding: 0; color: inherit; font-size: inherit; }
.spec-content blockquote { border-left: 3px solid var(--purple-light); padding: 8px 16px; margin: 0 0 12px; background: #F8F5FF; color: var(--text-secondary); border-radius: 0 var(--radius) var(--radius) 0; }
.spec-panel-footer { padding: 14px 24px; border-top: 1px solid var(--border); display: flex; gap: 8px; flex-shrink: 0; }
.spec-btn { padding: 8px 16px; border-radius: var(--radius); font-family: var(--font-body); font-size: 13px; font-weight: 500; cursor: pointer; transition: all var(--transition); display: flex; align-items: center; gap: 6px; }
.spec-btn-copy { background: var(--purple); color: var(--white); border: none; }
.spec-btn-copy:hover { background: var(--purple-dark); }
.spec-btn-copy.copied { background: var(--success); }
.spec-btn-close { background: var(--white); color: var(--text-secondary); border: 1px solid var(--border); }
.spec-btn-close:hover { background: var(--bg); color: var(--text); }
.backlog-table tbody tr:not(.sprint-group-header) { cursor: pointer; }
@media (max-width: 480px) { .spec-panel { width: 100vw; max-width: 100vw; } .spec-panel-header { padding: 16px; } .spec-panel-body { padding: 16px; } .spec-panel-footer { padding: 12px 16px; } }

.test-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.4); z-index: 200; opacity: 0; visibility: hidden; transition: opacity 0.25s ease, visibility 0.25s ease; }
.test-overlay.open { opacity: 1; visibility: visible; }
.test-panel { position: fixed; top: 0; right: 0; bottom: 0; width: 640px; max-width: 92vw; background: var(--white); z-index: 201; transform: translateX(100%); transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); display: flex; flex-direction: column; box-shadow: -4px 0 24px rgba(0, 0, 0, 0.15); }
.test-overlay.open .test-panel { transform: translateX(0); }
.test-panel-header { padding: 20px 24px 16px; border-bottom: 1px solid var(--border); flex-shrink: 0; }
.test-panel-header-top { display: flex; align-items: flex-start; justify-content: space-between; gap: 12px; }
.test-panel-title { font-family: var(--font-title); font-size: 18px; font-weight: 700; color: var(--text); line-height: 1.3; }
.test-panel-subtitle { font-size: 13px; color: var(--text-secondary); margin-top: 4px; }
.test-panel-close { width: 32px; height: 32px; border-radius: var(--radius); border: 1px solid var(--border); background: var(--white); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 18px; color: var(--text-secondary); flex-shrink: 0; transition: all var(--transition); }
.test-panel-close:hover { background: var(--bg); color: var(--text); border-color: var(--text-secondary); }
.test-panel-body { flex: 1; overflow-y: auto; padding: 24px; }
.test-panel-body .spec-content table { width: 100%; border-collapse: collapse; font-size: 13px; margin: 0 0 16px; }
.test-panel-body .spec-content th, .test-panel-body .spec-content td { padding: 8px 10px; border: 1px solid var(--border); text-align: left; vertical-align: top; }
.test-panel-body .spec-content th { background: var(--bg); font-weight: 600; font-size: 12px; white-space: nowrap; }
.test-panel-body .spec-content td:last-child { text-align: center; width: 70px; }
.test-panel-body .spec-content input[type="checkbox"] { width: 18px; height: 18px; cursor: pointer; accent-color: var(--success); }
.test-panel-body .spec-content hr { border: none; border-top: 2px solid var(--border); margin: 24px 0; }
.test-panel-footer { padding: 14px 24px; border-top: 1px solid var(--border); display: flex; gap: 8px; flex-shrink: 0; }
.sprint-test-btn { display: inline-flex; align-items: center; gap: 4px; padding: 3px 8px; border-radius: 4px; border: 1px solid var(--border); background: var(--white); cursor: pointer; font-family: var(--font-body); font-size: 10px; font-weight: 600; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.03em; transition: all var(--transition); }
.sprint-test-btn:hover { border-color: var(--purple-light); color: var(--purple); background: #F8F5FF; }
.sprint-test-btn svg { flex-shrink: 0; }
@media (max-width: 480px) { .test-panel { width: 100vw; max-width: 100vw; } .test-panel-header { padding: 16px; } .test-panel-body { padding: 16px; } .test-panel-footer { padding: 12px 16px; } }

.loading-state { text-align: center; padding: 60px 24px; color: var(--text-secondary); }
.loading-spinner { width: 32px; height: 32px; border: 3px solid var(--border); border-top-color: var(--purple); border-radius: 50%; animation: spin 0.8s linear infinite; margin: 0 auto 16px; }
@keyframes spin { to { transform: rotate(360deg); } }
</style>
</head>
<body>

<header class="header">
  <div class="header-left">
    <img src="https://ds.visionvolve.com/assets/logos/visionvolve-logo-white.svg" alt="VisionVolve" class="header-logo">
    <h1>Playbook Backlog</h1>
  </div>
  <div class="header-right">
    <span class="last-updated" id="lastUpdated">Loading...</span>
    <span class="refresh-dot" title="Dynamic data"></span>
  </div>
</header>

<div class="docs-bar" id="docsBar"><span class="docs-bar-label">Planning Docs</span></div>
<div class="sprint-summary" id="sprintSummary"></div>
<div class="stats-bar" id="statsBar"></div>

<div class="toolbar">
  <div class="filters">
    <div class="filter-group" id="priorityFilter">
      <button class="filter-btn active" data-priority="all">All</button>
      <button class="filter-btn priority-must" data-priority="Must Have">Must</button>
      <button class="filter-btn priority-should" data-priority="Should Have">Should</button>
      <button class="filter-btn priority-could" data-priority="Could Have">Could</button>
    </div>
    <div class="filter-group" id="statusFilter">
      <button class="filter-btn active" data-status="all">All</button>
      <button class="filter-btn" data-status="Idea">Idea</button>
      <button class="filter-btn" data-status="Spec'd">Spec'd</button>
      <button class="filter-btn" data-status="PR Open">PR Open</button>
      <button class="filter-btn" data-status="Done">Done</button>
    </div>
    <div class="filter-group" id="sprintFilter">
      <button class="filter-btn active" data-sprint="all">All</button>
      <button class="filter-btn" data-sprint="Sprint 1">S1</button>
      <button class="filter-btn" data-sprint="Sprint 2">S2</button>
      <button class="filter-btn" data-sprint="Sprint 3">S3</button>
      <button class="filter-btn" data-sprint="Backlog">BL</button>
    </div>
    <div class="filter-group" id="effortFilter">
      <button class="filter-btn active" data-effort="all">All</button>
      <button class="filter-btn" data-effort="S">S</button>
      <button class="filter-btn" data-effort="M">M</button>
      <button class="filter-btn" data-effort="L">L</button>
      <button class="filter-btn" data-effort="XL">XL</button>
    </div>
  </div>
  <div class="view-toggle">
    <button class="view-btn active" data-view="table"><svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor"><path d="M0 2a1 1 0 011-1h14a1 1 0 011 1v1H0V2zm0 3h16v2H0V5zm0 4h16v2H0V9zm0 4h16v1a1 1 0 01-1 1H1a1 1 0 01-1-1v-1z"/></svg> Table</button>
    <button class="view-btn" data-view="kanban"><svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor"><path d="M1 1h4v14H1V1zm5 0h4v10H6V1zm5 0h4v12h-4V1z"/></svg> Kanban</button>
  </div>
</div>

<div class="main">
  <div class="table-container" id="tableView">
    <table class="backlog-table">
      <thead><tr>
        <th data-sort="id">ID <span class="sort-icon">&#9650;</span></th>
        <th data-sort="name">Feature <span class="sort-icon">&#9650;</span></th>
        <th data-sort="sprint">Sprint <span class="sort-icon">&#9650;</span></th>
        <th data-sort="priority">Priority <span class="sort-icon">&#9650;</span></th>
        <th data-sort="effort">Effort <span class="sort-icon">&#9650;</span></th>
        <th data-sort="status">Status <span class="sort-icon">&#9650;</span></th>
        <th class="hide-mobile">PR</th>
        <th class="hide-mobile">Deps</th>
      </tr></thead>
      <tbody id="tableBody"><tr><td colspan="8"><div class="loading-state"><div class="loading-spinner"></div>Loading backlog items...</div></td></tr></tbody>
    </table>
  </div>
  <div class="kanban-container" id="kanbanView"></div>
  <div class="dep-graph-section">
    <div class="dep-graph-toggle" id="depGraphToggle"><span class="chevron">&#9654;</span> Dependency Graph</div>
    <div class="dep-graph-container" id="depGraphContainer"><canvas class="dep-graph-canvas" id="depCanvas"></canvas></div>
  </div>
</div>

<div class="spec-overlay" id="specOverlay">
  <div class="spec-panel">
    <div class="spec-panel-header">
      <div class="spec-panel-header-top">
        <div><div class="spec-panel-id" id="specId"></div><div class="spec-panel-title" id="specTitle"></div></div>
        <button class="spec-panel-close" id="specClose" title="Close">&times;</button>
      </div>
      <div class="spec-panel-badges" id="specBadges"></div>
      <div class="spec-panel-deps" id="specDeps"></div>
    </div>
    <div class="spec-panel-body"><div class="spec-content" id="specContent"></div></div>
    <div class="spec-panel-footer">
      <button class="spec-btn spec-btn-copy" id="specCopy"><svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor"><path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"/><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"/></svg> Copy Spec</button>
      <button class="spec-btn spec-btn-close" id="specCloseBtn">Close</button>
    </div>
  </div>
</div>

<div class="test-overlay" id="testOverlay">
  <div class="test-panel">
    <div class="test-panel-header">
      <div class="test-panel-header-top">
        <div><div class="test-panel-title" id="testTitle"></div><div class="test-panel-subtitle" id="testSubtitle"></div></div>
        <button class="test-panel-close" id="testClose" title="Close">&times;</button>
      </div>
    </div>
    <div class="test-panel-body"><div class="spec-content" id="testContent"></div></div>
    <div class="test-panel-footer">
      <button class="spec-btn spec-btn-copy" id="testCopy"><svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor"><path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"/><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"/></svg> Copy Markdown</button>
      <button class="spec-btn spec-btn-close" id="testCloseBtn">Close</button>
    </div>
  </div>
</div>

<script src="backlog-app.js"></script>
</body>
</html>
